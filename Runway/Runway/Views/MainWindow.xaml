<Window x:Class="Runway.Views.MainWindow"
   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
   xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
   xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
   xmlns:local="clr-namespace:Runway"
   mc:Ignorable="d"
   Title="MainWindow"
   Height="80"
   Width="700"
   WindowStartupLocation="CenterScreen"
   WindowStyle="None"
   AllowsTransparency="True"
   ResizeMode="NoResize"
   Background="Transparent"
   FocusManager.FocusedElement="{Binding ElementName=InputTextBox}"
   DataContext="{Binding Main, Source={StaticResource Locator}}"
   PreviewKeyDown="MainWindow_OnPreviewKeyDown">

   <Window.Resources>
      <ResourceDictionary>
         <ResourceDictionary.MergedDictionaries>
            <ResourceDictionary Source="..\Styles\TextBoxStyle.xaml" />
         </ResourceDictionary.MergedDictionaries>
      </ResourceDictionary>
   </Window.Resources>

   <Window.InputBindings>
      <KeyBinding Gesture="Enter" Command="{Binding LaunchCommand, Mode=OneTime}" />
      <KeyBinding Gesture="Escape" Command="{Binding ExitCommand, Mode=OneTime}" />
   </Window.InputBindings>

   <Grid Margin="10"
      Background="#252525">
      <Grid.Effect>
         <DropShadowEffect BlurRadius="12"
            ShadowDepth="1"
            Direction="0"
            Opacity="0.7"/>
      </Grid.Effect>

      <StackPanel Orientation="Horizontal">
         <TextBox x:Name="InputTextBox"
            Text="{Binding CurrentCommandText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
         <TextBox Foreground="#20FFFFFF"
            Text="{Binding PreviewCommandText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
            Padding="-4,0,0,0" />
      </StackPanel>
   </Grid>
</Window>
